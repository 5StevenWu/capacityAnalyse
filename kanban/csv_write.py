#!/usr/bin/env python3

import pandas as pd

all_data = [{'2021-08-23': {'LoadbalanceData': [704, '1.20%', 239, '38.93%', 164, '88.17%', 257, '50.58%'],
                            'samecoverdata': [2464, 2726, 870, '31.91%', 1302, '52.84%', 4498, '86.71%']}}, {
                '2021-08-24': {'LoadbalanceData': [699, '1.19%', 210, '35.90%', 188, '86.64%', 175, '69.71%'],
                               'samecoverdata': [2047, 2611, 836, '32.02%', 1176, '57.45%', 4211, '87.77%']}}, {
                '2021-08-25': {'LoadbalanceData': [565, '0.96%', 221, '46.82%', 159, '66.53%', 161, '60.25%'],
                               'samecoverdata': [2052, 2654, 977, '36.81%', 1210, '58.97%', 4410, '88.98%']}}, {
                '2021-08-26': {'LoadbalanceData': [587, '1.07%', 210, '44.78%', 166, '79.05%', 159, '51.57%'],
                               'samecoverdata': [1780, 2702, 1141, '42.23%', 1044, '58.65%', 4326, '97.73%']}}, {
                '2021-08-27': {'LoadbalanceData': [556, '0.94%', 237, '51.97%', 145, '65.61%', 228, '58.33%'],
                               'samecoverdata': [1236, 1719, 853, '49.62%', 712, '57.61%', 3033, '93.54%']}}, {
                '2021-08-28': {'LoadbalanceData': [551, '0.94%', 71, '16.36%', 150, '71.43%', 68, '11.76%'],
                               'samecoverdata': [1117, 1657, 969, '58.48%', 635, '56.85%', 3031, '98.58%']}}, {
                '2021-08-29': {'LoadbalanceData': [588, '1.04%', 61, '13.17%', 50, '21.10%', 60, '0.00%'],
                               'samecoverdata': [1099, 1577, 896, '56.82%', 612, '55.69%', 2790, '99.10%']}}]
all_data = [{'2021-09-06': {'LoadbalanceData': [451, '0.83%', 2, '0.52%', 0, '0.00%', 3, '66.67%'],
                            'samecoverdata': [2033, 2201, 1645, '74.74%', 1125, '55.34%', 5026, '90.49%']}}, {
                '2021-09-07': {'LoadbalanceData': [477, '0.98%', 3, '0.72%', 1, '50.00%', 5, '80.00%'],
                               'samecoverdata': [1678, 2142, 1588, '74.14%', 922, '54.95%', 4458, '96.32%']}}, {
                '2021-09-08': {'LoadbalanceData': [567, '0.91%', 151, '29.55%', 2, '100.00%', 116, '81.03%'],
                               'samecoverdata': [2857, 3322, 2820, '84.89%', 1504, '52.64%', 7914, '93.87%']}}, {
                '2021-09-09': {'LoadbalanceData': [386, '0.62%', 101, '29.45%', 107, '3566.67%', 61, '100.00%'],
                               'samecoverdata': [2746, 3277, 2863, '87.37%', 1401, '51.02%', 7804, '95.02%']}}, {
                '2021-09-10': {'LoadbalanceData': [366, '0.59%', 82, '24.26%', 62, '41.06%', 59, '98.31%'],
                               'samecoverdata': [3200, 3362, 2779, '82.66%', 2115, '66.09%', 8479, '90.31%']}}, {
                '2021-09-11': {'LoadbalanceData': [718, '1.15%', 174, '28.16%', 45, '44.55%', 156, '67.31%'],
                               'samecoverdata': [3468, 3266, 2455, '75.17%', 2022, '58.30%', 8506, '81.70%']}}, {
                '2021-09-12': {'LoadbalanceData': [727, '1.17%', 173, '25.98%', 118, '143.90%', 117, '100.00%'],
                               'samecoverdata': [3619, 3712, 2876, '77.48%', 2197, '60.71%', 9434, '87.48%']}}]

# df = pd.
all_data = [{'2021-09-13': {'LoadbalanceData': [776, '1.24%', 181, '26.42%', 120, '68.97%', 115, '63.48%'],
                            'samecoverdata': [3275, 3435, 2762, '80.41%', 2140, '65.34%', 8628, '89.24%']}}, {
                '2021-09-14': {'LoadbalanceData': [716, '1.15%', 139, '22.24%', 122, '70.52%', 109, '100.00%'],
                               'samecoverdata': [2837, 3074, 2254, '73.32%', 1952, '68.81%', 7591, '88.99%']}}, {
                '2021-09-15': {'LoadbalanceData': [727, '1.16%', 182, '28.48%', 86, '47.51%', 108, '100.00%'],
                               'samecoverdata': [2450, 2665, 1294, '48.56%', 1565, '63.88%', 5628, '86.39%']}},
            {'2021-09-16': {'LoadbalanceData': [788, '1.26%', 160, '22.82%', 114, '82.01%', 102, '99.02%'],
                            'samecoverdata': [1622, 1715, 73, '4.26%', 1014, '62.52%', 2721, '76.77%']}}, {
                '2021-09-17': {'LoadbalanceData': [783, '1.25%', 204, '28.94%', 115, '63.19%', 330, '93.94%'],
                               'samecoverdata': [1986, 2131, 1715, '80.48%', 1190, '59.92%', 5145, '90.94%']}},
            {'2021-09-18': {'LoadbalanceData': [766, '1.22%', 178, '25.04%', 132, '82.50%', 288, '94.44%'],
                            'samecoverdata': [2628, 3101, 2401, '77.43%', 1797, '68.38%', 7125, '95.06%']}},
            {'2021-09-19': {'LoadbalanceData': [777, '1.24%', 187, '26.52%', 129, '63.24%', 307, '95.44%'],
                            'samecoverdata': [2931, 3710, 3041, '81.97%', 2076, '70.83%', 8259, '97.17%']}}]


def alldataana(all_data):
    for one in all_data:
        for day, data in one.items():
            # print(day, data)
            print(',' + str(day), end='')
            for _, d in data.items():
                # print(d)
                for i in d:
                    print(',' + str(i), end='')
                # print()
            print("\r")


if __name__ == '__main__':
    alldataana(all_data)
